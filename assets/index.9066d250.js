import{s as D,c as E,l as T,a as H,b as K,d as M,e as d,f as g,g as Y,h as R,i as j,j as L,k as I,o as W,m as X,t as C,n as J,p as Q,q as S,r as U,u as F}from"./vendor.7ec720bd.js";const Z=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}};Z();const y={top:20,right:30,bottom:40,left:200},A=1e3-y.left-y.right,k=600-y.top-y.bottom,$=D("#my_dataviz2").append("svg").attr("width",A+y.left+y.right).attr("height",k+y.top+y.bottom).append("g").attr("transform",`translate(${y.left}, ${y.top})`);E("number.csv").then(function(e){const n=T().domain([0,4]).range([0,A]);$.append("g").attr("transform",`translate(0, ${k})`).call(H(n)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),$.append("text").attr("text-anchor","end").attr("x",A).attr("y",k+y.top+20).attr("font-family","Saira").style("font-size","12px").text("The number of the song");const s=K().range([0,k]).domain(e.map(t=>t.name)).padding(.1);$.append("g").call(M(s)),$.selectAll("myRect").data(e).join("rect").attr("x",n(0)).attr("y",t=>s(t.name)).attr("width",t=>n(t.counts)).attr("height",s.bandwidth()).attr("fill","#69b3a2")});var f={top:10,right:120,bottom:30,left:50},l=1e3-f.left-f.right,i=600-f.top-f.bottom,r=d.exports.select("#multiline_chart").append("svg").attr("width",l+f.left+f.right).attr("height",i+f.top+f.bottom).append("g").attr("transform","translate("+f.left+","+f.top+")");d.exports.csv("averages_by_year.csv",function(e){return{year:e.year,danceability:e.danceability,energy:e.energy,speechiness:e.speechiness,acousticness:e.acousticness,instrumentalness:e.instrumentalness,liveness:e.liveness,valence:e.valence}},function(e){var n=d.exports.scaleLinear().domain(d.exports.extent(e,function(t){return t.year})).range([0,l]);r.append("g").attr("transform","translate(0,"+i+")").call(d.exports.axisBottom(n)),r.append("text").attr("transform","translate("+l/2+" ,"+(i+f.top+20)+")").style("text-anchor","middle").text("Year");var s=d.exports.scaleLinear().domain([0,1]).range([i,0]);r.append("g").call(d.exports.axisLeft(s)),r.append("text").attr("transform","rotate(-90)").attr("y",0-f.left).attr("x",0-i/2).attr("dy","1em").style("text-anchor","middle").text("Value"),r.append("path").datum(e).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",d.exports.line().x(function(t){return n(t.year)}).y(function(t){return s(t.danceability)})),r.append("path").datum(e).attr("fill","none").attr("stroke","red").attr("stroke-width",1.5).attr("d",d.exports.line().x(function(t){return n(t.year)}).y(function(t){return s(t.energy)})),r.append("path").datum(e).attr("fill","none").attr("stroke","green").attr("stroke-width",1.5).attr("d",d.exports.line().x(function(t){return n(t.year)}).y(function(t){return s(t.speechiness)})),r.append("path").datum(e).attr("fill","none").attr("stroke","orange").attr("stroke-width",1.5).attr("d",d.exports.line().x(function(t){return n(t.year)}).y(function(t){return s(t.acousticness)})),r.append("path").datum(e).attr("fill","none").attr("stroke","purple").attr("stroke-width",1.5).attr("d",d.exports.line().x(function(t){return n(t.year)}).y(function(t){return s(t.instrumentalness)})),r.append("path").datum(e).attr("fill","none").attr("stroke","pink").attr("stroke-width",1.5).attr("d",d.exports.line().x(function(t){return n(t.year)}).y(function(t){return s(t.liveness)})),r.append("path").datum(e).attr("fill","none").attr("stroke","lime").attr("stroke-width",1.5).attr("d",d.exports.line().x(function(t){return n(t.year)}).y(function(t){return s(t.valence)})),r.append("text").attr("x",l+20).attr("y",i/4-25).text("Legend").style("font-size","16px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4).attr("r",6).style("fill","steelblue"),r.append("text").attr("x",l+20).attr("y",i/4).text("danceability").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+20).attr("r",6).style("fill","red"),r.append("text").attr("x",l+20).attr("y",i/4+20).text("energy").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+40).attr("r",6).style("fill","green"),r.append("text").attr("x",l+20).attr("y",i/4+40).text("speechiness").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+60).attr("r",6).style("fill","orange"),r.append("text").attr("x",l+20).attr("y",i/4+60).text("acousticness").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+80).attr("r",6).style("fill","purple"),r.append("text").attr("x",l+20).attr("y",i/4+80).text("instrumentalness").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+100).attr("r",6).style("fill","pink"),r.append("text").attr("x",l+20).attr("y",i/4+100).text("liveness").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+120).attr("r",6).style("fill","lime"),r.append("text").attr("x",l+20).attr("y",i/4+120).text("valence").style("font-size","12px").attr("alignment-baseline","middle")});const x={top:10,right:30,bottom:20,left:50},P=1e3-x.left-x.right,O=600-x.top-x.bottom,_=g("#my_dataviz3").append("svg").attr("width",P+x.left+x.right).attr("height",O+x.top+x.bottom).append("g").attr("transform",`translate(${x.left},${x.top})`);Y("gender.csv").then(function(e){const n=e.columns.slice(1),s=e.map(p=>p.group),t=R().domain(s).range([0,P]).padding([.2]);_.append("g").attr("transform",`translate(0, ${O})`).call(j(t).tickSizeOuter(0));const o=L().domain([0,100]).range([O,0]);_.append("g").call(I(o));const c=W().domain(n).range(["#6495ED","#ff1493","#d9d574"]),a=X().keys(n)(e),h=g("#my_dataviz3").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","1px").style("border-radius","5px").style("padding","10px").style("width","150px"),b=function(p,z){const N=g(this.parentNode).datum().key,q=z.data[N];h.html("subgroup: "+N+"<br>Value: "+q).style("opacity",1)},m=function(p,z){h.style("transform","translateY(-55%)").style("left",p.x/2+"px").style("top",p.y/2-30+"px")},V=function(p,z){h.style("opacity",0)};_.append("g").selectAll("g").data(a).join("g").attr("fill",p=>c(p.key)).selectAll("rect").data(p=>p).join("rect").attr("x",p=>t(p.data.group)).attr("y",p=>o(p[1])).attr("height",p=>o(p[0])-o(p[1])).attr("width",t.bandwidth()).attr("stroke","grey").on("mouseover",b).on("mousemove",m).on("mouseleave",V)});const u={top:10,right:100,bottom:30,left:30},B=1e3-u.left-u.right,w=600-u.top-u.bottom,v=g("#my_dataviz").append("svg").attr("width",B+u.left+u.right).attr("height",w+u.top+u.bottom).append("g").attr("transform",`translate(${u.left},${u.top})`);C("%Y");J("%Y");Y("topsongs.csv").then(function(e){let n=[...new Set(e.map(a=>a.artists))];g("#selectButton").selectAll("myOptions").data(n).enter().append("option").text(function(a){return a}).attr("value",function(a){return a});const s=L().domain([Q(e,function(a){return a.year}),S(e,function(a){return a.year})]).range([0,B]);v.append("g").attr("transform",`translate(0, ${w})`).call(j(s).tickFormat(U("d")));const t=L().domain([0,S(e,function(a){return Number(a.count)})]).range([w,0]);v.append("g").call(I(t)),v.append("defs").append("marker").attr("id","dot").attr("viewBox",[0,0,20,20]).attr("refX",10).attr("refY",10).attr("markerWidth",10).attr("markerHeight",10).append("circle").attr("cx",10).attr("cy",10).attr("r",2).style("fill","green");const o=v.append("g").append("path").datum(e).attr("d",F().x(function(a){return s(+a.time)}).y(function(a){return t(+a.value)})).style("stroke-width",4).style("stroke","#69b3a2").style("fill","transparent").attr("marker-start","url(#dot)").attr("marker-mid","url(#dot)").attr("marker-end","url(#dot)");v.append("text").attr("text-anchor","end").attr("x",B).attr("y",w+u.top+20).attr("font-family","Saira").style("font-size","12px").text("Year"),v.append("text").attr("text-anchor","end").attr("transform","rotate(-90)").attr("y",-u.left+50).attr("x",-u.top).style("font-size","12px").text("The number of the");function c(a){console.log(a);var h=e.filter(function(m){return m.artists==a});const b=h.map(function(m){return console.log(parseInt(m.year)),console.log(parseInt(m.count)),{time:parseInt(m.year),value:parseInt(m.count)}});o.datum(b).attr("d",F().x(function(m){return s(+m.time)}).y(function(m){return t(+m.value)})).attr("marker-start","url(#dot)").attr("marker-mid","url(#dot)").attr("marker-end","url(#dot)")}g("#selectButton").on("change",function(a,h){const b=g(this).property("value");c(b)}),c(n[0])});
