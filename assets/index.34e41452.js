import{s as q,c as D,l as E,a as T,b as H,d as K,e as M,f as R,g as Y,h as W,i as X,j as C,k as g,m as y,n as k,t as J,o as Q,p as U,q as j,r as Z,u as I,v as G,w as tt,x as et,y as S}from"./vendor.a95d32d0.js";const rt=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}};rt();const f={top:20,right:30,bottom:40,left:200},B=1e3-f.left-f.right,$=600-f.top-f.bottom,w=q("#my_dataviz2").append("svg").attr("width",B+f.left+f.right).attr("height",$+f.top+f.bottom).append("g").attr("transform",`translate(${f.left}, ${f.top})`);D("number.csv").then(function(e){const n=E().domain([0,4]).range([0,B]);w.append("g").attr("transform",`translate(0, ${$})`).call(T(n)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),w.append("text").attr("text-anchor","end").attr("x",B).attr("y",$+f.top+20).attr("font-family","Saira").style("font-size","12px").text("The number of the song");const s=H().range([0,$]).domain(e.map(t=>t.name)).padding(.1);w.append("g").call(K(s)),w.selectAll("myRect").data(e).join("rect").attr("x",n(0)).attr("y",t=>s(t.name)).attr("width",t=>n(t.counts)).attr("height",s.bandwidth()).attr("fill","#69b3a2")});var m={top:10,right:120,bottom:30,left:50},l=1e3-m.left-m.right,i=600-m.top-m.bottom,r=M("#multiline_chart").append("svg").attr("width",l+m.left+m.right).attr("height",i+m.top+m.bottom).append("g").attr("transform","translate("+m.left+","+m.top+")");R("averages_by_year.csv",function(e){return{year:e.year,danceability:e.danceability,energy:e.energy,speechiness:e.speechiness,acousticness:e.acousticness,instrumentalness:e.instrumentalness,liveness:e.liveness,valence:e.valence}},function(e){var n=Y().domain(W(e,function(t){return t.year})).range([0,l]);r.append("g").attr("transform","translate(0,"+i+")").call(X(n)),r.append("text").attr("transform","translate("+l/2+" ,"+(i+m.top+20)+")").style("text-anchor","middle").text("Year");var s=Y().domain([0,1]).range([i,0]);r.append("g").call(C(s)),r.append("text").attr("transform","rotate(-90)").attr("y",0-m.left).attr("x",0-i/2).attr("dy","1em").style("text-anchor","middle").text("Value"),r.append("path").datum(e).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",g().x(function(t){return n(t.year)}).y(function(t){return s(t.danceability)})),r.append("path").datum(e).attr("fill","none").attr("stroke","red").attr("stroke-width",1.5).attr("d",g().x(function(t){return n(t.year)}).y(function(t){return s(t.energy)})),r.append("path").datum(e).attr("fill","none").attr("stroke","green").attr("stroke-width",1.5).attr("d",g().x(function(t){return n(t.year)}).y(function(t){return s(t.speechiness)})),r.append("path").datum(e).attr("fill","none").attr("stroke","orange").attr("stroke-width",1.5).attr("d",g().x(function(t){return n(t.year)}).y(function(t){return s(t.acousticness)})),r.append("path").datum(e).attr("fill","none").attr("stroke","purple").attr("stroke-width",1.5).attr("d",g().x(function(t){return n(t.year)}).y(function(t){return s(t.instrumentalness)})),r.append("path").datum(e).attr("fill","none").attr("stroke","pink").attr("stroke-width",1.5).attr("d",g().x(function(t){return n(t.year)}).y(function(t){return s(t.liveness)})),r.append("path").datum(e).attr("fill","none").attr("stroke","lime").attr("stroke-width",1.5).attr("d",g().x(function(t){return n(t.year)}).y(function(t){return s(t.valence)})),r.append("text").attr("x",l+20).attr("y",i/4-25).text("Legend").style("font-size","16px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4).attr("r",6).style("fill","steelblue"),r.append("text").attr("x",l+20).attr("y",i/4).text("danceability").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+20).attr("r",6).style("fill","red"),r.append("text").attr("x",l+20).attr("y",i/4+20).text("energy").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+40).attr("r",6).style("fill","green"),r.append("text").attr("x",l+20).attr("y",i/4+40).text("speechiness").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+60).attr("r",6).style("fill","orange"),r.append("text").attr("x",l+20).attr("y",i/4+60).text("acousticness").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+80).attr("r",6).style("fill","purple"),r.append("text").attr("x",l+20).attr("y",i/4+80).text("instrumentalness").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+100).attr("r",6).style("fill","pink"),r.append("text").attr("x",l+20).attr("y",i/4+100).text("liveness").style("font-size","12px").attr("alignment-baseline","middle"),r.append("circle").attr("cx",l+10).attr("cy",i/4+120).attr("r",6).style("fill","lime"),r.append("text").attr("x",l+20).attr("y",i/4+120).text("valence").style("font-size","12px").attr("alignment-baseline","middle")});const x={top:10,right:30,bottom:20,left:50},F=1e3-x.left-x.right,O=600-x.top-x.bottom,A=y.exports.select("#my_dataviz3").append("svg").attr("width",F+x.left+x.right).attr("height",O+x.top+x.bottom).append("g").attr("transform",`translate(${x.left},${x.top})`);y.exports.csv("gender.csv").then(function(e){const n=e.columns.slice(1),s=e.map(p=>p.group),t=y.exports.scaleBand().domain(s).range([0,F]).padding([.2]);A.append("g").attr("transform",`translate(0, ${O})`).call(y.exports.axisBottom(t).tickSizeOuter(0));const o=y.exports.scaleLinear().domain([0,100]).range([O,0]);A.append("g").call(y.exports.axisLeft(o));const c=y.exports.scaleOrdinal().domain(n).range(["#6495ED","#ff1493","#d9d574"]),a=y.exports.stack().keys(n)(e),h=y.exports.select("#my_dataviz3").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","1px").style("border-radius","5px").style("padding","10px").style("width","150px"),b=function(p,L){const N=y.exports.select(this.parentNode).datum().key,V=L.data[N];h.html("subgroup: "+N+"<br>Value: "+V).style("opacity",1)},u=function(p,L){h.style("transform","translateY(-55%)").style("left",p.x/2+"px").style("top",p.y/2-30+"px")},P=function(p,L){h.style("opacity",0)};A.append("g").selectAll("g").data(a).join("g").attr("fill",p=>c(p.key)).selectAll("rect").data(p=>p).join("rect").attr("x",p=>t(p.data.group)).attr("y",p=>o(p[1])).attr("height",p=>o(p[0])-o(p[1])).attr("width",t.bandwidth()).attr("stroke","grey").on("mouseover",b).on("mousemove",u).on("mouseleave",P)});const d={top:10,right:100,bottom:30,left:30},_=1e3-d.left-d.right,z=600-d.top-d.bottom,v=k("#my_dataviz").append("svg").attr("width",_+d.left+d.right).attr("height",z+d.top+d.bottom).append("g").attr("transform",`translate(${d.left},${d.top})`);J("%Y");Q("%Y");U("topsongs.csv").then(function(e){let n=[...new Set(e.map(a=>a.artists))];k("#selectButton").selectAll("myOptions").data(n).enter().append("option").text(function(a){return a}).attr("value",function(a){return a});const s=j().domain([Z(e,function(a){return a.year}),I(e,function(a){return a.year})]).range([0,_]);v.append("g").attr("transform",`translate(0, ${z})`).call(G(s).tickFormat(tt("d")));const t=j().domain([0,I(e,function(a){return Number(a.count)})]).range([z,0]);v.append("g").call(et(t)),v.append("defs").append("marker").attr("id","dot").attr("viewBox",[0,0,20,20]).attr("refX",10).attr("refY",10).attr("markerWidth",10).attr("markerHeight",10).append("circle").attr("cx",10).attr("cy",10).attr("r",2).style("fill","green");const o=v.append("g").append("path").datum(e).attr("d",S().x(function(a){return s(+a.time)}).y(function(a){return t(+a.value)})).style("stroke-width",4).style("stroke","#69b3a2").style("fill","transparent").attr("marker-start","url(#dot)").attr("marker-mid","url(#dot)").attr("marker-end","url(#dot)");v.append("text").attr("text-anchor","end").attr("x",_).attr("y",z+d.top+20).attr("font-family","Saira").style("font-size","12px").text("Year"),v.append("text").attr("text-anchor","end").attr("transform","rotate(-90)").attr("y",-d.left+50).attr("x",-d.top).style("font-size","12px").text("The number of the");function c(a){console.log(a);var h=e.filter(function(u){return u.artists==a});const b=h.map(function(u){return console.log(parseInt(u.year)),console.log(parseInt(u.count)),{time:parseInt(u.year),value:parseInt(u.count)}});o.datum(b).attr("d",S().x(function(u){return s(+u.time)}).y(function(u){return t(+u.value)})).attr("marker-start","url(#dot)").attr("marker-mid","url(#dot)").attr("marker-end","url(#dot)")}k("#selectButton").on("change",function(a,h){const b=k(this).property("value");c(b)}),c(n[0])});
